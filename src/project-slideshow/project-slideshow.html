<link rel="import" href="../../bower_components/polymer/polymer.html">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<dom-module id="project-slideshow">

  <template>

    <style>

      .carousel-inner {
        margin:auto;
        max-width:1100px;
        min-height:450px;
        text-align:center;
      }
        @media (max-width: 1280px) {
          .carousel-inner {
            max-width:800px;
          }
        }
        @media (max-width: 700px) {
          .carousel-inner  {
            width:100%;
            min-height:auto;
          }
        }

      .carousel-inner img {
        max-width:100%;
        max-height:800px;
      }
      @media (max-width: 1280px) {
        .carousel-inner img {
          max-height:600px;
        }
      }
      .carousel-indicators {
        display:flex;
        justify-content:center;
        align-items:center;
      }
      .carousel-indicators li {
        width:2px;
        margin:0px 4px;
        height:2px;
        box-shadow: 0px 0px 6px rgba(0,0,0, .3);
      }

      .carousel-indicators .active {
        width:10px;
        height:10px;
      }
    </style>

      <div id$="[[myCarouselId]]" class="carousel slide" data-ride="carousel" data-interval="false">
        <!-- Indicators -->
        <ol class="carousel-indicators">

          <template is="dom-repeat" items="[[images]]">
            <li
              data-target$="#[[myCarouselId]]"
              data-slide-to="[[index]]"
              class$="[[_getSlideClass(index)]]"
            ></li>
          </template>

        </ol>

        <!-- Wrapper for slides -->
        <div class="carousel-inner" role="listbox">

          <template is="dom-repeat" items="[[images]]">

            <div class$="item [[_getSlideClass(index)]]">
              <img
                src$="[[resolveUrl(item)]]"
                data-target$="#[[myCarouselId]]"
                role="button"
                data-slide-to$="[[_getNextSlide(index, images)]]"
              >
            </div>


          </template>

        </div>
      </div>

    </body>
    </html>


    </div>

  </template>

  <script>
  Polymer({
    is: 'project-slideshow',
    properties: {
      images: Array,
      myCarouselId: String,
    },

    _getSlideClass: function(i) {
      if(i == 0) return "active";
      return "";
    },

    _getNextSlide: function(index, images) {
      if(index == images.length -1) return 0;
      return (index+1);
    }
  });
  </script>

</dom-module>
